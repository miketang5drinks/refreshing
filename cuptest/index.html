<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8" />
  <title>風味杯測紀錄表｜Refreshing Coffee</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <!-- 套用 refreshing 網站的主 CSS -->
  <link rel="stylesheet" href="../styles.css" />

  <style>
    /* A6 版面設定 */
    .a6-page {
      background: #fff;
      width: 420px;   /* 約 105mm */
      height: 595px;  /* 約 148mm */
      border: 1px solid #000;
      margin: 0 auto 20px;
      padding: 10px;
      display: none;
      flex-direction: column;
      gap: 6px;
    }
    .a6-page.active {
      display: flex;
    }

    .page-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      border-bottom: 1px solid #000;
      padding-bottom: 4px;
      margin-bottom: 4px;
    }

    .title-main {
      text-align: center;
      font-weight: 700;
      font-size: 16px;
      margin-bottom: 4px;
    }

    table {
      width: 100%;
      border-collapse: collapse;
      font-size: 11px;
    }
    th, td {
      border: 1px solid #000;
      padding: 2px 4px;
    }
    .thin-border th, .thin-border td {
      border-width: 0.5px;
    }

    input[type="text"],
    input[type="date"],
    input[type="number"] {
      width: 100%;
      font-size: 11px;
      padding: 2px;
      border: 1px solid #ccc;
    }

    .section-title {
      font-size: 12px;
      font-weight: 600;
      margin-top: 6px;
      border-top: 1px solid #000;
      padding-top: 4px;
    }

    /* 切換按鈕 */
    .view-switch {
      text-align: center;
      margin: 20px 0;
    }
    .view-switch button {
      padding: 6px 12px;
      margin: 0 6px;
      background: #6b4f3f;
      color: #fff;
      border-radius: 4px;
      border: none;
      cursor: pointer;
    }
    .view-switch button:hover {
      background: #8b6a58;
    }

    /* 列印設定 */
    @media print {
      .view-switch,
      nav,
      footer {
        display: none !important;
      }
      @page {
        size: A6;
        margin: 4mm;
      }
      .a6-page {
        display: block;
        page-break-after: always;
        border: none;
        width: auto;
        height: auto;
      }
      /* ============================= */
/* 香氣圓輪：放射線強度視覺化 CSS */
/* ============================= */

.aroma-sector {
  position: absolute;
  width: 50%;
  height: 50%;
  left: 50%;
  top: 50%;
  transform-origin: 0% 0%;
  overflow: hidden;
}

.aroma-sector .fill {
  position: absolute;
  width: 200%;
  height: 200%;
  left: -100%;
  top: -100%;
  border-radius: 50%;
  clip-path: polygon(50% 50%, 100% 0%, 100% 100%);
  opacity: 0.25;
}

/* 強度 0–4 的填滿透明度 */
.aroma-intensity-0 { opacity: 0; }
.aroma-intensity-1 { opacity: 0.25; }
.aroma-intensity-2 { opacity: 0.45; }
.aroma-intensity-3 { opacity: 0.65; }
.aroma-intensity-4 { opacity: 0.9; }

/* 每個香氣主類的顏色（與方格一致） */
.aroma-color-fruit    { background: #f8b500; }
.aroma-color-floral   { background: #ff6fb5; }
.aroma-color-herbal   { background: #6fba82; }
.aroma-color-vegetal  { background: #8fd3ff; }
.aroma-color-spice    { background: #f59e0b; }
.aroma-color-woody    { background: #a16207; }
.aroma-color-nutty    { background: #c08457; }
.aroma-color-roasted  { background: #92400e; }
.aroma-color-mineral  { background: #6b7280; }
.aroma-color-chemical { background: #f97373; }
.aroma-color-micro    { background: #8b5cf6; }
    }
  </style>
</head>

<body>

<!-- 套用 refreshing 網站的 header / nav -->
<header>
  <h1>Refreshing Coffee</h1>
  <nav>
    <a href="../index.html">Home</a>
    <a href="../beans.html">Beans</a>
    <a href="../brewing.html">Brewing</a>
    <a href="../cuptest/index.html" class="active">風味紀錄表</a>
  </nav>
</header>

<main>
</body>
</html>


  <h2 style="text-align:center; margin-top:20px;">風味杯測紀錄表（A6 雙面）</h2>

  <div class="view-switch">
    <button onclick="showPage('front')">顯示正面（風味／口感）</button>
    <button onclick="showPage('back')">顯示背面（香氣）</button>
    <button onclick="window.print()">列印 A6（雙面）</button>
  </div>
<!-- ========================= -->
<!-- A6 正面：風味／口感 -->
<!-- ========================= -->

<div class="a6-page active" id="page-front">
<!-- ========================= -->
<!-- A6 背面：香氣（模組化 HTML） -->
<!-- ========================= -->

<div class="page-header">
  <div>
    <strong>coffee<br>consulate</strong>
  </div>
  <div style="text-align:right; font-size:12px;">
    風味杯測紀錄表（背面）
  </div>
</div>

<div class="title-main">香氣（初步感官）</div>

<!-- 香氣圓輪（強度視覺化會由 JS 注入） -->
<div style="display:flex; gap:10px; margin-bottom:10px;">
  <div style="flex:1; text-align:center;">
    <div style="font-weight:600; margin-bottom:4px;">香氣圓輪（強度視覺化）</div>
    <div id="aroma-wheel" style="
      width:100%;
      aspect-ratio:1;
      border-radius:50%;
      border:1px solid #999;
      position:relative;
      overflow:hidden;
    ">
      <!-- JS 會在這裡畫出強度 0–4 的圓弧 -->
    </div>
  </div>

  <div style="flex:1; text-align:left; font-size:11px;">
    <strong>強度說明：</strong><br>
    4：非常強<br>
    3：強<br>
    2：中等<br>
    1：弱<br>
    0：無
  </div>
</div>

<!-- 香氣選擇方格 -->
<div class="section-title">香氣選擇（點選加入／移除）</div>

<div id="aroma-grid" style="
  display:grid;
  grid-template-columns:repeat(3,1fr);
  gap:6px;
  font-size:11px;
">
  <!-- JS 會自動填入香氣方格 -->
</div>

<!-- 已選香氣表格 -->
<div style="margin-top:10px; font-size:11px;">
  <strong>已選香氣（父類／子類／示例／強度）</strong>
</div>

<table class="thin-border" style="font-size:10px;">
  <thead>
    <tr>
      <th style="width:18%;">父類</th>
      <th style="width:20%;">子類</th>
      <th>示例</th>
      <th style="width:12%;">強度</th>
    </tr>
  </thead>
  <tbody id="aroma-selected-body">
    <tr><td colspan="4" style="text-align:center;">尚未選擇香氣</td></tr>
  </tbody>
</table>

<div style="margin-top:auto; font-size:9px; text-align:right;">
  @2018 Coffee Consulate, Mannheim
</div>
  <div class="page-header">
    <div>
      <strong>coffee<br>consulate</strong>
    </div>
    <div style="text-align:right; font-size:12px;">
      風味杯測紀錄表（正面）
    </div>
  </div>

  <div class="title-main">咖啡風味輪廓</div>

  <!-- 基本資料 -->
  <table class="thin-border">
    <tr>
      <td style="width:20%;">日期</td>
      <td colspan="3"><input type="date" name="date" /></td>
    </tr>
    <tr>
      <td colspan="4">
        杯測人：
        <input type="text" name="taster" style="border:none;border-bottom:1px solid #000;width:70%;" />
      </td>
    </tr>
    <tr>
      <td>烘焙度</td>
      <td>咖啡：<input type="text" name="roast_coffee" style="border:none;border-bottom:1px solid #000;width:70%;" /></td>
      <td>意式濃縮：<input type="text" name="roast_espresso" style="border:none;border-bottom:1px solid #000;width:70%;" /></td>
      <td></td>
    </tr>
  </table>

  <!-- 生豆資訊 -->
  <div class="section-title">生豆資訊</div>

  <table class="thin-border">
    <tr>
      <td style="width:20%;">莊園</td>
      <td><input type="text" name="farm" /></td>
    </tr>
    <tr>
      <td>樹種</td>
      <td><input type="text" name="variety" /></td>
    </tr>
    <tr>
      <td>處理法</td>
      <td><input type="text" name="process" /></td>
    </tr>
    <tr>
      <td>海拔</td>
      <td><input type="text" name="altitude" /></td>
    </tr>
  </table>

  <div class="row" style="margin-top:4px;">
    <div class="col-1">
      烘焙日期：<input type="text" name="roast_date" />
    </div>
  </div>

  <div class="row">
    <div class="col-1">T1（入豆溫度）：<input type="text" name="temp_in" /></div>
    <div class="col-1">T3（最高溫度）：<input type="text" name="temp_max" /></div>
  </div>

  <!-- 風味與口感 -->
  <div class="section-title">風味與口感（0–4）</div>

  <div style="font-size:11px;font-weight:600;margin-bottom:4px;">風味</div>

  <!-- 酸 -->
  <div class="scale-row">
    <div class="scale-label-sub">酸</div>
    <div class="scale-track">
      <span>非常強</span>
      <div class="scale-dots">
        <label><input type="radio" name="acid" value="4"><span></span></label>
        <label><input type="radio" name="acid" value="3"><span></span></label>
        <label><input type="radio" name="acid" value="2"><span></span></label>
        <label><input type="radio" name="acid" value="1"><span></span></label>
        <label>

